(function(t){function e(e){for(var i,a,o=e[0],s=e[1],l=e[2],d=0,m=[];d<o.length;d++)a=o[d],u[a]&&m.push(u[a][0]),u[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);c&&c(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,o=1;o<n.length;o++){var s=n[o];0!==u[s]&&(i=!1)}i&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},u={app:0},r=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var c=s;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("1356"),u=n.n(i);u.a},1356:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),u=n("bb71");n("da64"),n("15f5");i["a"].use(u["a"],{iconfont:"fa"});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-content",[n("v-container",{attrs:{"grid-list-xl":"","text-xs-center":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",[n("span",{staticClass:"header"},[t._v("Building a Roman City")])])],1),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{lg3:"",xl3:""}},[t._v("\n                    Money to spend\n                    "),n("v-text-field",{attrs:{label:"Money",solo:"",type:"number"},model:{value:t.maxMoney,callback:function(e){t.maxMoney=e},expression:"maxMoney"}})],1)],1),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:"",lg9:"",xl9:""}},[n("building-selector")],1),n("v-flex",{attrs:{xs0:"",xl3:"",lg3:""}},[n("v-card",{attrs:{dark:"",color:"purple"}},[n("building-resume")],1)],1)],1)],1)],1)],1)},a=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{column:""}},[n("v-flex",[n("v-layout",{attrs:{row:"",wrap:""}},t._l(t.buildings,function(t){return n("v-flex",{key:t.image,attrs:{xs12:"",lg4:""}},[n("building",{attrs:{building:t}})],1)}),1)],1)],1)],1)},s=[],l=n("cebc"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-img",{attrs:{src:t.building.image,"aspect-ratio":"1.75"}}),n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("h3",{staticClass:"headline mb-0"},[t._v(t._s(t.building.buildingName))])])]),n("v-card-actions",[n("v-layout",{attrs:{column:""}},[n("v-flex",{attrs:{xs3:""}},[t._l(t.building.priceButtons,function(e,i){return[t._l(e,function(e,u){return[n("building-button",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"button.show"}],key:e.text+i+u,attrs:{text:e.text,position:u,line:i,color:e.color},on:{"update:color":function(n){return t.$set(e,"color",n)},click:t.buttonClick}})]}),n("br",{key:i+"a"}),n("br",{key:i+"b"})]})],2)],1)],1)],1)},d=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{ref:"button",attrs:{color:t.color},on:{click:t.click}},[t._v(t._s(t.text)+"\n    "),n("v-icon",[t._v("fas fa-coins")])],1)},b=[],g=(n("c5f6"),{name:"BuildingButton",props:{text:{type:String,required:!0},position:{type:Number,required:!0},color:{type:String,required:!0},line:{type:Number,required:!0}},data:function(){return{}},methods:{click:function(){this.$emit("click",this.position,this.line)}}}),p=g,f=n("2877"),h=n("6544"),x=n.n(h),v=n("8336"),B=n("132d"),y=Object(f["a"])(p,m,b,!1,null,null,null),N=y.exports;x()(y,{VBtn:v["a"],VIcon:B["a"]});var j=n("2f62"),_={name:"Building",components:{BuildingButton:N},props:["building"],data:function(){return{buttons:this.building.priceButtons}},methods:{buttonClick:function(t,e){var n=Object(l["a"])({},this.buttons);t===this.buttons[e].length-1?this.buttons[e][t].disabled?this.buttons[e][t].disabled&&(n[e][t].disabled=!1,n[e][t].color="orange",this.$store.dispatch("returnBuilding",{name:this.building.buildingName,number:t,price:n[e][t].text,line:e})):this.remainingMoney>+this.buttons[e][t].text&&(n[e][t].disabled=!0,n[e][t].color="green",this.$store.dispatch("buyBuilding",{name:this.building.buildingName,number:t,price:n[e][t].text,line:e})):(!this.buttons[e][t].disabled&&this.buttons[e][t+1].disabled?this.remainingMoney>+this.buttons[e][t].text&&(n[e][t].disabled=!0,n[e][t].color="green",n[e][t+1].disabled=!1,n[e][t+1].color="orange",this.$store.dispatch("buyBuilding",{name:this.building.buildingName,number:t,price:n[e][t].text,line:e})):this.buttons[e][t].disabled&&!this.buttons[e][t+1].disabled&&(n[e][t].disabled=!1,n[e][t].color="orange",n[e][t+1].disabled=!0,n[e][t+1].color="",this.$store.dispatch("returnBuilding",{name:this.building.buildingName,number:t,price:n[e][t].text,line:e})),this.$set(this.buttons,n)),0!==t||this.buttons[e][t].disabled?this.showNextLine(e):this.notShowNextLine(e,t,n),this.$forceUpdate()},showNextLine:function(t){this.buttons[t+1]&&(this.buttons[t+1]=this.buttons[t+1].map(function(t){return Object(l["a"])({},t,{show:!0})}))},notShowNextLine:function(t,e,n){if(this.buttons[t+1])for(var i=1;i<this.buttons.length-t;i++)this.$store.dispatch("returnBuilding",{name:this.building.buildingName,number:-1,price:n[t+i][e].text,line:t+i}),this.buttons[t+i]=this.buttons[t+i].map(function(t){return Object(l["a"])({},t,{show:!1,color:"",disabled:!0})}),this.buttons[t+i][0].color="orange",this.buttons[t+i][0].disabled=!1}},computed:Object(l["a"])({},Object(j["b"])(["remainingMoney"]))},L=_,w=n("b0af"),M=n("99d9"),k=n("12b2"),O=n("0e8f"),T=n("adda"),V=n("a722"),$=Object(f["a"])(L,c,d,!1,null,null,null),C=$.exports;x()($,{VCard:w["a"],VCardActions:M["a"],VCardTitle:k["a"],VFlex:O["a"],VImg:T["a"],VLayout:V["a"]});var P={name:"BuildingSelector",components:{Building:C},data:function(){return{}},computed:Object(l["a"])({},Object(j["b"])(["buildings"]))},S=P,A=n("a523"),E=Object(f["a"])(S,o,s,!1,null,null,null),R=E.exports;x()(E,{VContainer:A["a"],VFlex:O["a"],VLayout:V["a"]});var q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",[t._l(t.boughtBuildings,function(e){return[n("v-list-tile",{key:e.name+e.line},[n("v-list-tile-content",[n("v-list-tile-title",{domProps:{innerHTML:t._s(t.name(e))}})],1),n("v-list-tile-action",[n("v-list-tile-action-text",[t._v(t._s(e.price))])],1)],1)]}),t.boughtBuildingsPriceTotal?n("v-list-tile",{key:"TOTAL"},[n("v-list-tile-content",[n("v-list-tile-title",[t._v(" TOTAL:")])],1),n("v-list-tile-action",[n("v-list-tile-action-text",[t._v(t._s(t.boughtBuildingsPriceTotal))])],1)],1):t._e(),t.boughtBuildingsPriceTotal?n("v-list-tile",{key:"REMAINING"},[n("v-list-tile-content",[n("v-list-tile-title",[t._v(" REMAINING:")])],1),n("v-list-tile-action",[n("v-list-tile-action-text",[t._v(t._s(t.remainingMoney))])],1)],1):t._e()],2)},I=[],F=(n("14b9"),n("7f7f"),{name:"BuildingResume",data:function(){return{}},methods:{name:function(t){return 0===t.level?t.name:t.name+"+".repeat(t.level)}},computed:Object(l["a"])({},Object(j["b"])(["boughtBuildings","boughtBuildingsPriceTotal","remainingMoney"]))}),G=F,J=n("8860"),H=n("ba95"),U=n("40fe"),W=n("5d23"),z=Object(f["a"])(G,q,I,!1,null,null,null),D=z.exports;x()(z,{VList:J["a"],VListTile:H["a"],VListTileAction:U["a"],VListTileActionText:W["a"],VListTileContent:W["b"],VListTileTitle:W["c"]});var K={name:"App",components:{BuildingSelector:R,BuildingResume:D},data:function(){return{}},computed:{maxMoney:{get:function(){return this.$store.state.maxMoney},set:function(t){this.$store.commit("updateMaxMoney",t)}}}},Q=K,X=(n("034f"),n("7496")),Y=n("549c"),Z=n("2677"),tt=Object(f["a"])(Q,r,a,!1,null,null,null),et=tt.exports;x()(tt,{VApp:X["a"],VCard:w["a"],VContainer:A["a"],VContent:Y["a"],VFlex:O["a"],VLayout:V["a"],VTextField:Z["a"]});n("7514");i["a"].use(j["a"]);var nt=new j["a"].Store({state:{defaultButtons:[{disabled:!1,color:"orange"},{disabled:!0,color:""},{disabled:!0,color:""}],buildings:[{image:"/aqueduct.jpg",prices:["100000"],buildingName:"Aqueduct",maxButtonNumber:1,maxButtonsLines:5},{image:"/arch.jpg",prices:["20000","5000","5000"],buildingName:"Arch",maxButtonNumber:3,maxButtonsLines:5},{image:"/amphitheatre.jpg",prices:["100000","30000","15000"],buildingName:"Amphitheatre",maxButtonNumber:3,maxButtonsLines:5},{image:"/theatre.jpg",prices:["50000","25000","12500"],buildingName:"Theatre",maxButtonNumber:3,maxButtonsLines:5},{image:"/circus.jpg",prices:["40000","20000","10000"],buildingName:"Circus",maxButtonNumber:3,maxButtonsLines:5},{image:"/baths.jpg",prices:["80000","40000","20000"],buildingName:"Baths",maxButtonNumber:3,maxButtonsLines:5},{image:"/market.jpg",prices:["10000","5000","2500"],buildingName:"Market",maxButtonNumber:3,maxButtonsLines:5},{image:"/forum.jpg",prices:["20000","10000","5000"],buildingName:"Forum",maxButtonNumber:3,maxButtonsLines:5},{image:"/basilica.jpg",prices:["40000","20000","7500"],buildingName:"Basilica",maxButtonNumber:3,maxButtonsLines:5},{image:"/curia.jpg",prices:["15000","7500","3000"],buildingName:"Curia-Comitium",maxButtonNumber:3,maxButtonsLines:5},{image:"/temple.jpg",prices:["40000","20000","10000"],buildingName:"Temple",maxButtonNumber:3,maxButtonsLines:5},{image:"/bridge.jpg",prices:["15000"],buildingName:"Bridge",maxButtonNumber:1,maxButtonsLines:5},{image:"/road.jpg",prices:["15000"],buildingName:"Road",maxButtonNumber:1,maxButtonsLines:1},{image:"/port.jpg",prices:["80000"],buildingName:"Port",maxButtonNumber:1,maxButtonsLines:1},{image:"/wall.jpg",prices:["100000"],buildingName:"Wall",maxButtonNumber:1,maxButtonsLines:1},{image:"/restructuration.jpg",prices:["75000"],buildingName:"Restructuration of the street plan",maxButtonNumber:1,maxButtonsLines:1},{image:"/statue.jpg",prices:["5000","2500","2500"],buildingName:"Statue",maxButtonNumber:3,maxButtonsLines:10}],boughtBuildings:[],maxMoney:0},mutations:{buyBuilding:function(t,e){var n=t.boughtBuildings.find(function(t){return t.key===e.name+e.line});n?(n.price+=Number(e.price),n.level=e.number):t.boughtBuildings.push({name:e.name,level:e.number,price:+e.price,line:e.line,key:e.name+e.line})},returnBuilding:function(t,e){var n=t.boughtBuildings.find(function(t){return t.key===e.name+e.line});e&&-1===e.number?t.boughtBuildings=t.boughtBuildings.filter(function(t){return t.key!==e.name+e.line}):n&&n.level>0?(n.price-=Number(e.price),n.level=e.number-1):t.boughtBuildings=t.boughtBuildings.filter(function(t){return t.key!==e.name+e.line})},updateMaxMoney:function(t,e){t.maxMoney=e}},actions:{buyBuilding:function(t,e){var n=t.commit;return n("buyBuilding",e)},returnBuilding:function(t,e){var n=t.commit;return n("returnBuilding",e)},updateMaxMoney:function(t,e){var n=t.commit;return n("updateMaxMoney",e)},createBuildingButtons:function(t){var e=t.commit;return e("createBuildingButtons")}},getters:{boughtBuildings:function(t){return t.boughtBuildings},boughtBuildingsPriceTotal:function(t){var e=t.boughtBuildings.reduce(function(t,e){var n=e.price;return t+n},0);return e},remainingMoney:function(t,e){return t.maxMoney-e.boughtBuildingsPriceTotal},buildings:function(t){return t.buildings.map(function(e){for(var n=[],i=0;i<e.maxButtonsLines;i++){for(var u=[],r=0;r<e.maxButtonNumber;r++)u.push(Object(l["a"])({},t.defaultButtons[r],{text:e.prices[r],show:0===i}));n.push(u)}return e.priceButtons=n,e})}}});i["a"].config.productionTip=!1,new i["a"]({store:nt,render:function(t){return t(et)}}).$mount("#app")}});
//# sourceMappingURL=app.11147d84.js.map